<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Combine CMC data from two comparison directions — decision_combineCMCDirections • cmcR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Combine CMC data from two comparison directions — decision_combineCMCDirections" />
<meta property="og:description" content="Combine CMC data from two comparison directions" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmcR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/cmcR_plotReproduction.html">Reproduction of Song et al. (2018) plots using the cmcR package</a>
    </li>
    <li>
      <a href="../articles/decisionRuleDescription.html">CMC Decision Rule Description</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Combine CMC data from two comparison directions</h1>
    
    <div class="hidden name"><code>decision_combineCMCDirections.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Combine CMC data from two comparison directions</p>
    </div>

    <pre class="usage"><span class='fu'>decision_combineCMCDirections</span><span class='op'>(</span>
  <span class='va'>comparison_1to2_df</span>,
  <span class='va'>comparison_2to1_df</span>,
  corColName <span class='op'>=</span> <span class='st'>"pairwiseCompCor"</span>,
  method <span class='op'>=</span> <span class='st'>"highCMC"</span>,
  compareThetas <span class='op'>=</span> <span class='cn'>TRUE</span>,
  thetaThresh <span class='op'>=</span> <span class='fl'>6</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>comparison_1to2_df</th>
      <td><p>a data frame containing a column
"originalMethodClassif" or "highCMCClassif" (or both) representing CMCs
identified for a comparison between two cartridge cases in which one is
considered the "reference scan" and the other the "target scan". The
decision_CMC function can be used to add CMC column(s) to a data frame.</p></td>
    </tr>
    <tr>
      <th>comparison_2to1_df</th>
      <td><p>a data frame containing a column
"originalMethodClassif" or "highCMCClassif" (or both) representing CMCs
identified for a comparison between two cartridge cases where the roles of
"reference" and "target" are reversed relative to the comparison_1to2_df
CMCs</p></td>
    </tr>
    <tr>
      <th>corColName</th>
      <td><p>name of correlation similarity score column used to
identify the CMCs in the two comparison_*_df data frames (e.g.,
pairwiseCompCor)</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>whether to apply the combination logic of the High CMC method
or the original method of Song (2013)</p></td>
    </tr>
    <tr>
      <th>compareThetas</th>
      <td><p>controls whether the estimated "true" rotation values
calculated under the original method of Song (2013) and the High CMC method
are compared to each other (they should be similar for a truly matching
scan).</p></td>
    </tr>
    <tr>
      <th>thetaThresh</th>
      <td><p>threshold to use when comparing the estimated theta values
under the original method of Song (2013) and the High CMC method. Also used
to compare the estimated theta values in both comparison directions under
the High CMC method (as they should be approximate opposites of each
other).</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>fadul1.1_processed</span>,<span class='va'>fadul1.2_processed</span><span class='op'>)</span>

<span class='va'>comparisonDF_1to2</span> <span class='op'>&lt;-</span> <span class='fu'>purrr</span><span class='fu'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map_dfr</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>30</span>,<span class='fl'>30</span>,by <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
                                   <span class='op'>~</span> <span class='fu'><a href='comparison_allTogether.html'>comparison_allTogether</a></span><span class='op'>(</span><span class='va'>fadul1.1_processed</span>,
                                                       <span class='va'>fadul1.2_processed</span>,
                                                       theta <span class='op'>=</span> <span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>comparisonDF_2to1</span> <span class='op'>&lt;-</span> <span class='fu'>purrr</span><span class='fu'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map_dfr</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>30</span>,<span class='fl'>30</span>,by <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>,
                                   <span class='op'>~</span> <span class='fu'><a href='comparison_allTogether.html'>comparison_allTogether</a></span><span class='op'>(</span><span class='va'>fadul1.2_processed</span>,
                                                       <span class='va'>fadul1.1_processed</span>,
                                                       theta <span class='op'>=</span> <span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>comparisonDF_1to2</span> <span class='op'>&lt;-</span> <span class='va'>comparisonDF_1to2</span> <span class='op'>%&gt;%</span>
<span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>originalMethodClassif <span class='op'>=</span> <span class='fu'><a href='decision_CMC.html'>decision_CMC</a></span><span class='op'>(</span>cellIndex <span class='op'>=</span> <span class='va'>cellIndex</span>,
                                                   x <span class='op'>=</span> <span class='va'>x</span>,
                                                   y <span class='op'>=</span> <span class='va'>y</span>,
                                                   theta <span class='op'>=</span> <span class='va'>theta</span>,
                                                   corr <span class='op'>=</span> <span class='va'>pairwiseCompCor</span><span class='op'>)</span>,
              highCMCClassif <span class='op'>=</span> <span class='fu'><a href='decision_CMC.html'>decision_CMC</a></span><span class='op'>(</span>cellIndex <span class='op'>=</span> <span class='va'>cellIndex</span>,
                                           x <span class='op'>=</span> <span class='va'>x</span>,
                                           y <span class='op'>=</span> <span class='va'>y</span>,
                                           theta <span class='op'>=</span> <span class='va'>theta</span>,
                                           corr <span class='op'>=</span> <span class='va'>pairwiseCompCor</span>,
                                           tau <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>


<span class='va'>comparisonDF_2to1</span> <span class='op'>&lt;-</span> <span class='va'>comparisonDF_2to1</span> <span class='op'>%&gt;%</span>
<span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>originalMethodClassif <span class='op'>=</span> <span class='fu'><a href='decision_CMC.html'>decision_CMC</a></span><span class='op'>(</span>cellIndex <span class='op'>=</span> <span class='va'>cellIndex</span>,
                                                   x <span class='op'>=</span> <span class='va'>x</span>,
                                                   y <span class='op'>=</span> <span class='va'>y</span>,
                                                   theta <span class='op'>=</span> <span class='va'>theta</span>,
                                                   corr <span class='op'>=</span> <span class='va'>pairwiseCompCor</span><span class='op'>)</span>,
              highCMCClassif <span class='op'>=</span> <span class='fu'><a href='decision_CMC.html'>decision_CMC</a></span><span class='op'>(</span>cellIndex <span class='op'>=</span> <span class='va'>cellIndex</span>,
                                           x <span class='op'>=</span> <span class='va'>x</span>,
                                           y <span class='op'>=</span> <span class='va'>y</span>,
                                           theta <span class='op'>=</span> <span class='va'>theta</span>,
                                           corr <span class='op'>=</span> <span class='va'>pairwiseCompCor</span>,
                                           tau <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'>decision_combineCMCDirections</span><span class='op'>(</span><span class='va'>comparisonDF_1to2</span>,
                             <span class='va'>comparisonDF_2to1</span>,
                             corColName <span class='op'>=</span> <span class='st'>"pairwiseCompCor"</span>,
                             method <span class='op'>=</span> <span class='st'>"highCMC"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in bind_rows(comparison_1to2_df %&gt;% dplyr::filter(originalMethodClassif ==     "CMC" | highCMCClassif == "CMC") %&gt;% dplyr::mutate(direction = "comparison_AtoB"),     comparison_2to1_df %&gt;% dplyr::filter(originalMethodClassif ==         "CMC" | highCMCClassif == "CMC") %&gt;% dplyr::mutate(direction = "comparison_BtoA")): could not find function "bind_rows"</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Joe Zemmels, Heike Hofmann, Susan VanderPlas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


