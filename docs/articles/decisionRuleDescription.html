<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CMC Decision Rule Description • cmcR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="CMC Decision Rule Description">
<meta property="og:description" content="cmcR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cmcR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cmcR_plotReproduction.html">Reproduction of Song et al. (2018) plots using the cmcR package</a>
    </li>
    <li>
      <a href="../articles/decisionRuleDescription.html">CMC Decision Rule Description</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="decisionRuleDescription_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>CMC Decision Rule Description</h1>
            
      
      
      <div class="hidden name"><code>decisionRuleDescription.Rmd</code></div>

    </div>

    
    
<div id="set-up" class="section level1">
<h1 class="hasAnchor">
<a href="#set-up" class="anchor"></a>Set-up</h1>
<p>This vignette will describe the decision rules used in the original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a> and the High CMC method of <a href="https://nvlpubs.nist.gov/nistpubs/jres/120/jres.120.008.pdf">Tong et al. (2015)</a>. For illustrative purposes, we will consider a comparison between a known match and known non-match pair of cartridge cases from the stuy performed by <a href="https://www.ncjrs.gov/pdffiles1/nij/grants/237960.pdf">Fadul et al. (2011)</a>. The raw cartridge case scans can be downloaded from the <a href="https://tsapps.nist.gov/NRBTD/Studies/Studies/Details/e7a8aab8-8d5a-44ac-b2be-f0de7c2ca505?nm=True&amp;mt=1&amp;m=3&amp;sp=1">NIST Ballistics Toolmark Research Database</a>. The scans were preprocessed using functions available in the <strong>cmcR</strong> package and are not discussed here. Refer to the <code>fadul_examples.R</code> script available on the <a href="https://github.com/CSAFE-ISU/cmcR/tree/master/data-raw"><strong>cmcR</strong> GitHub page</a> for how these scans were preprocessed. We will also not discuss how similarity features are extracted from two processed scans. Refer to the documentation of the <a href="https://csafe-isu.github.io/cmcR/reference/comparison_allTogether.html"><code>comparison_allTogether</code></a> function on the <strong>cmcR</strong> website for information regarding this procedure.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">cmcR</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://purrr.tidyverse.org">purrr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org">tidyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></code></pre></div>
<p>We will consider comparisons between three cartridge case scans. Fadul 1-1 and Fadul 1-2 are known matches (i.e., were fired from the same firearm) while Fadul 2-1 is a non-match. The comparisons considered are Fadul 1-1 vs. Fadul 1-2 and Fadul 1-1 vs. Fadul 2-1.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"fadul1.1_processed"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"fadul1.2_processed"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Download a non-matching cartridge case to Fadul 1-1 and Fadul 1-2</span>

<span class="va">fadul2.1_raw</span> <span class="op">&lt;-</span> <span class="fu">x3ptools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/x3ptools/man/x3p_read.html">read_x3p</a></span><span class="op">(</span><span class="st">"https://tsapps.nist.gov/NRBTD/Studies/CartridgeMeasurement/DownloadMeasurement/8ae0b86d-210a-41fd-ad75-8212f9522f96"</span><span class="op">)</span>

<span class="va">fadul2.1_processed</span> <span class="op">&lt;-</span> <span class="va">fadul2.1_raw</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/preProcess_crop.html">preProcess_crop</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"exterior"</span>,
                  radiusOffset <span class="op">=</span> <span class="op">-</span><span class="fl">30</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/preProcess_crop.html">preProcess_crop</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"interior"</span>,
                  radiusOffset <span class="op">=</span> <span class="fl">200</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/preProcess_removeTrend.html">preProcess_removeTrend</a></span><span class="op">(</span>statistic <span class="op">=</span> <span class="st">"quantile"</span>,
                                 tau <span class="op">=</span> <span class="fl">.5</span>,
                                 method <span class="op">=</span> <span class="st">"fn"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/preProcess_gaussFilter.html">preProcess_gaussFilter</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">x3ptools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/x3ptools/man/x3p_sample.html">sample_x3p</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The three processed cartridge cases are shown below.</p>
<p><img src="https://github.com/jzemmels/vignetteImages/blob/main/cmcPlot.png?raw=true" width="600" style="display: block; margin: auto;"></p>
<p>The cell-based comparison procedure implemented in the <code>comparison_allTogether</code> function returns a data frame/tibble of similarity features between two cartridge case scans. For each cell in the “reference” scan (Fadul 1-1 in this example), the similarity features include</p>
<ul>
<li>Estimated horizontal and vertical translations, <code>(x,y)</code>, required to align the reference cell in the target scan</li>
<li>Cross-correlation between the reference cell and its associated target region after aligning by the estimated <code>(x,y)</code> values</li>
<li>Rotation performed on the target scan that resulted in the <code>(x,y,CCF)</code> feature set</li>
</ul>
<p>The fundamental assumption underlying all CMC decision rules is that truly matching cartridge case pairs should have similarity features that are consistent across the cell/region pairs. In particular, a plurality of cell/region pairs should “vote” for similar <code>(x, y, theta)</code> alignment values. In contrast, the cell/region pairs of a truly non-matching cartridge cases should have seemingly random <code>(x, y, theta)</code> votes. The two decision rules implemented in the <strong>cmcR</strong> package can be understood as two different systems by which cells vote for <code>(x, y, theta)</code> values that they “believe” to be the true alignment values for the overall cartridge case scans.</p>
</div>
<div id="original-method-of-song-2013" class="section level1">
<h1 class="hasAnchor">
<a href="#original-method-of-song-2013" class="anchor"></a>Original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a>
</h1>
<p>An actual implementation of the original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a> is described in <a href="https://doi.org/10.1088/0957-0233/25/6/064005">Song et al. (2014)</a>. The decision rule <a href="https://doi.org/10.1088/0957-0233/25/6/064005">Song et al. (2014)</a> describe using is based on</p>
<blockquote>
<p>a virtual reference with three reference registration parameters <span class="math inline">\(\theta_{\text{ref}}\)</span>, <span class="math inline">\(x_{\text{ref}}\)</span> and <span class="math inline">\(y_{\text{ref}}\)</span> generated by the median values of the collective <span class="math inline">\(\theta\)</span>, and <span class="math inline">\(x\)</span>-, <span class="math inline">\(y\)</span>-translation values of all cell pairs.</p>
</blockquote>
<p>That is, a consensus is determined by finding the median registration phase values across the cell/region pairs for a particular cartridge case pair comparison. Then, the distances between the consensus registration values and the cell comparison values are assessed to determine whether they are within a specified distance of the consensus. This consensus assessment introduces threshold parameters <span class="math inline">\(T_{x}, T_{y}, T_\theta, T_{\text{CCF}}\)</span>.</p>
<p>Let <span class="math inline">\(x_i, y_i, \theta_i\)</span> denote the translation and rotation parameters which produce the highest CCF for the alignment of cell/region pair <span class="math inline">\(i\)</span>. Also let <span class="math inline">\(x_{\text{ref}}, y_{\text{ref}}, \theta_{\text{ref}}\)</span> be the median over alignment values for a particular cartridge case comparison (these are the “virtual reference” values). A cell/region pair <span class="math inline">\(i\)</span> is declared a match if all of the following conditions hold:</p>
<ul>
<li><span class="math inline">\(|x_i - x_{\text{ref}}| \leq T_{x}\)</span></li>
<li><span class="math inline">\(|y_i - y_{\text{ref}}| \leq T_{y}\)</span></li>
<li><span class="math inline">\(|\theta_i - \theta_{\text{ref}}| \leq T_{\theta}\)</span></li>
<li>CCF<span class="math inline">\(_{\max,i} \geq T_{\text{CCF}}\)</span>.</li>
</ul>
<p>With respect to the voting system analogy, we might interpret this decision rule as a single-choice voting system similar to the system used in U.S. presidential elections. That is, every cell is allowed to submit one vote corresponding to the registration phase with the highest CCF<span class="math inline">\(_{\max}\)</span> value. Some of these votes are discarded if the associated CCF<span class="math inline">\(_{\max}\)</span> are below the <span class="math inline">\(T_{\text{CCF}}\)</span> threshold. A consensus is determined by counting the number of votes that are close to the reference values <span class="math inline">\(x_{\text{ref}}, y_{\text{ref}}, \theta_{\text{ref}}\)</span> (which is dyadically defined based on the <span class="math inline">\(T_x,T_y,T_{\theta}\)</span> thresholds).</p>
<p>The plot below shows the values of <span class="math inline">\(x_i, y_i, \theta_i\)</span>, and <span class="math inline">\(CCF_{\max,i}\)</span> for each cell/region pair between Fadul 1-1 and Fadul 1-2 as well as Fadul 1-1 and Fadul 2-1. These values are shown as blue/red bars. The purple bands indicate the range of acceptable values within <span class="math inline">\(T_{x} = 20 T_{y}, T_{\theta} = 6\)</span> within <span class="math inline">\(x_{\text{ref}}, y_{\text{ref}}, \theta_{\text{ref}}\)</span> and above <span class="math inline">\(T_{\text{CCF}} = .5\)</span> to be declared “congruent.” As we might expect, a larger proportion of <span class="math inline">\(x_i, y_i, \theta_i\)</span>, and <span class="math inline">\(CCF_{\max,i}\)</span> values are within these acceptable ranges for the comparison between Fadul 1-1 and Fadul 1-2 than the comparison between Fadul 1-1 and Fadul 2-1. This indicates that there is a clearer “consensus” about the true alignment values for the matching cartridge case pair than the non-matching.</p>
<p><img src="https://github.com/jzemmels/vignetteImages/blob/main/originalMethodResults.png?raw=true" width="600" style="display: block; margin: auto;"></p>
<p>The first step in the High CMC method is to count the CMCs under the original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a> in both comparison “directions,” meaning each scan plays the role as the “reference” and “target” scan. After these CMCs are counted, <a href="https://nvlpubs.nist.gov/nistpubs/jres/120/jres.120.008.pdf">Tong et al. (2015)</a> propose using the minimum of the 2 CMC counts as an initial CMC count prior to applying the High CMC decision rule. The figure below shows the behavior of the <span class="math inline">\(x_i, y_i, \theta_i\)</span>, and <span class="math inline">\(CCF_{\max,i}\)</span> values in each direction via a <a href="https://en.wikipedia.org/wiki/Parallel_coordinates">parallel-coordinates plot</a>, which is useful for visualizing multi-dimensional data sets. Each connected path represents a single cell/region pair. The purple regions again represent the acceptable regions that are sufficiently “close” to the reference values (or above .5 in the case of the CCF). Paths that only traverse through purple regions are deemed congruent under the decision rule of the original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a> and are colored blue. We can see that 19 cells are deemed congruent for the comparison in which Fadul 1-1 is treated as the reference while 18 are considered congruent in the other direction. As such, the initial CMC count used for the High CMC method would be 18.</p>
<p><img src="https://github.com/jzemmels/vignetteImages/blob/main/originalMethodPCP.png?raw=true" width="600" style="display: block; margin: auto;"> By considering only the “top vote” of each cell as is done in the decision rule of the original method of <a href="https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=910868">Song (2013)</a>, information is lost regarding other registration phases for which a cell might also rank highly. As <a href="https://nvlpubs.nist.gov/nistpubs/jres/120/jres.120.008.pdf">Tong et al. (2015)</a> observe:</p>
<blockquote>
<p>some of the valid cell pairs may be mistakenly excluded from the CMC count because by chance their correlation yields a higher CCF value at a rotation angle outside the threshold range <span class="math inline">\(T_\theta\)</span>.</p>
</blockquote>
<p>The High CMC method lifts the single-choice restriction by allowing cells to cast a vote for the translation phase at every <span class="math inline">\(\theta\)</span> value for which it has a sufficiently large associated CCF<span class="math inline">\(_{\max}\)</span> value. Under this system, each vote represents the translation phase that the cell considers to be the true translation phase of the overall scans conditional on a particular <span class="math inline">\(\theta\)</span> value. In this way, the High CMC method might be viewed as an approval voting system in which an individual may cast a vote for all of the candidates that they would like. For each <span class="math inline">\(\theta\)</span> value, the number of translation phase votes that are close to the <span class="math inline">\(\theta\)</span>-specific reference values <span class="math inline">\(x_{\text{ref},\theta}, y_{\text{ref},\theta}\)</span> are counted (now defined based only on the <span class="math inline">\(T_x,T_y\)</span> thresholds). This yields what  refer to as a “CMC-<span class="math inline">\(\theta\)</span>” distribution representing, as they consider it, the number of “congruent cells” per <span class="math inline">\(\theta\)</span> value. Thus, there may be more than one <span class="math inline">\(\theta\)</span> value for which a single cell/region pair is considered congruent. While seemingly contradictory (as there should be only one “true” <span class="math inline">\(\theta\)</span> alignment value),  justify their method by the empirical observation:</p>
<blockquote>
<p>[i]f two images are truly matching, the CMC-<span class="math inline">\(\theta\)</span> distribution of matching image pairs should have a prominent peak located near the initial phase angle <span class="math inline">\(\Theta_0\)</span>, while non-matching image pairs may have a relatively flat and random CMC-<span class="math inline">\(\theta\)</span> distribution pattern.</p>
</blockquote>
<p>The assumption underlying the High CMC method is that the number of cells classified as congruent should be larger near the true <span class="math inline">\(\theta\)</span> value (the “initial phase angle <span class="math inline">\(\Theta_0\)</span>”, as they call it) than for other <span class="math inline">\(\theta\)</span> values if the cartridge case pair is indeed a match. These phenomena are illustrated in Figures  and .  shows the CMC counts per rotation value in both directions for the known match pair Fadul 1-1 and Fadul 1-2 from . We can clearly see a CMC mode around <span class="math inline">\(\theta = -24\)</span> in one direction and <span class="math inline">\(21\)</span> in the other, which is to be expected for a known match pair. , on the other hand, shows the CMC counts for the known non-match pair Fadul 1-1 and Fadul 2-1; in this comparison, no such CMC count mode is achieved.</p>
<p>An example of the CMC-<span class="math inline">\(\theta\)</span> distribution for the comparison between Fadul 1-1 and Fadul 1-2 is shown below. We can see that, conditional on <span class="math inline">\(\theta = -24\)</span> degrees, more cells tend to have similar <code>x, y</code> values than conditional on <span class="math inline">\(\theta = 30\)</span>. The CCF values are also larger. This indicates that <span class="math inline">\(\theta = -24\)</span> is likely closer to the “true” rotation than <span class="math inline">\(\theta = 30\)</span> or elsewhere. The two darker-shaded bars represent the <span class="math inline">\(\theta\)</span> values that have a “High CMC” count as described above. Because these <span class="math inline">\(\theta\)</span> values are adjacent rather than being far from each other, there is evidence that the “true” <span class="math inline">\(\theta\)</span> value is approximately <span class="math inline">\(\theta = -24\)</span> or <span class="math inline">\(-27\)</span> degrees. We say that this comparison direction would “pass” the High CMC criteria because the <span class="math inline">\(\theta\)</span> values with high CMC counts are adjacent.</p>
<p><img src="https://github.com/jzemmels/vignetteImages/blob/main/highCMCDistribution.png?raw=true" width="600" style="display: block; margin: auto;"></p>
<p>Based on this observation,  outline the following procedure for the High CMC method:</p>
<blockquote>
<p>Conduct both forward and backward correlations at each rotation and record the registration based on CCF<span class="math inline">\(_{\max}\)</span>, <span class="math inline">\(x\)</span>, and <span class="math inline">\(y\)</span> for each cell at each rotation. These data will be used in the next two steps separately.</p>
</blockquote>
<blockquote>
<p>At every rotation angle, each cell in the reference image finds a registration position in the compared image with a maximum CCF value. By selecting the registration with the maximum CCF value for each cell, the two CMC numbers determined by the four thresholds can be obtained based on the original algorithm []. The lower CMC number is used as the initial result.</p>
</blockquote>
<blockquote>
<p>Build CMC-<span class="math inline">\(\theta\)</span> distributions using the data generated in step 1, by counting the number of cells that have congruent positions at each individual rotation angle. Calculate the angular range of “high CMCs” using both the forward and backward CMC-<span class="math inline">\(\theta\)</span> distributions, as illustrated in Figs. 2 and 3.</p>
</blockquote>
<blockquote>
<p>If the angular range of the “high CMCs” is within the range <span class="math inline">\(T_\theta\)</span>, identify the CMCs for each rotation angle in this range and combine them to give the number of CMCs for this comparison in place of the original CMC number. In this step, if the range is narrower than <span class="math inline">\(T_\theta\)</span>, the nearby angles are included to make the range equal to <span class="math inline">\(T_\theta\)</span>; CMCs with same index in each rotation are only counted once.</p>
</blockquote>
<p> introduce an additional criteria to identify a mode in the CMC count per <span class="math inline">\(\theta\)</span> distribution. Let <span class="math inline">\(\{\text{CMC}_{\theta} : \theta \in \Theta \}\)</span> denote the CMC-<span class="math inline">\(\theta\)</span> distribution where <span class="math inline">\(\Theta\)</span> is the set of rotation values considered for the comparison. Define CMC<span class="math inline">\(_{\max} \equiv \max_{\theta} \{\text{CMC}_{\theta} : \theta \in \Theta\}\)</span>.   a “high” CMC threshold as CMC<span class="math inline">\(_{\text{high}} \equiv\)</span> CMC<span class="math inline">\(_{\max} - \tau\)</span> for some constant <span class="math inline">\(\tau\)</span> (they choose <span class="math inline">\(\tau = 1\)</span>). Now let <span class="math inline">\(\Theta_{\text{high}} \equiv \{\theta : \text{CMC}_{\theta} \geq \text{CMC}_{\text{high}}\}\)</span>. That is, <span class="math inline">\(\Theta_{\text{high}}\)</span> consists of the <span class="math inline">\(\theta\)</span> values with “high” CMC counts.  propose calculating <span class="math inline">\(R = \max_{\theta} \Theta_{\text{high}} - \min_{\theta} \Theta_{\text{high}}\)</span>. If <span class="math inline">\(R \leq T_{\theta}\)</span>, then there is evidence that a single mode exists in the CMC-<span class="math inline">\(\theta\)</span> distribution (and thus that the cartridge case pair is a match). Otherwise, no such mode exists (by their definition) and the cartridge case pair is likely not a match. The horizontal dashed lines in Figures  and  represent the CMC<span class="math inline">\(_{\text{high}}\)</span> thresholds. The <span class="math inline">\(\theta \in \Theta_{\text{high}}\)</span> are represented by blue bars. For the matching pair shown in , the range of <span class="math inline">\(\Theta_{\text{high}}\)</span> is less than the threshold <span class="math inline">\(T_{\theta} = 6\)</span> degrees, so this pair would “pass” the High CMC criteria. In contrast, the range of <span class="math inline">\(\Theta_{\text{high}}\)</span> is larger than <span class="math inline">\(T_{\theta} = 6\)</span> degrees for the non-match pair shown in . Thus, the non-match pair would “fail” the High CMC criteria.</p>
<p>The “prominent peak” empirical observation upon which the High CMC method is based does seem to hold for many known match and known non-match pairs in our experience. However, we’ve observed that the behavior of the CMC-<span class="math inline">\(\theta\)</span> distributions depend heavily on the preprocessing procedures used and thresholds set. In particular, the CMC-<span class="math inline">\(\theta\)</span> distributions for some KNM pairs exhibit the prominent peak behavior for a wide range of threshold values making them difficult to distinguish from KM pairs.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Joe Zemmels, Heike Hofmann, Susan VanderPlas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
