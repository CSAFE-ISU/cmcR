ransac
ransac()
10^(-5)
inliers
?sample
sample(data.frame(x = c(1,2,3,4,4)),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
sample(nrow(data.frame(x = c(1,2,3,4,4))),1)
data.frame(which(!is.na(matrix(c(1,2,3,4,NA,5,6,NA,7,8,9))), arr.ind = TRUE))
data.frame(which(!is.na(matrix(c(1,2,3,4,NA,5,6,NA,7,8,9),nrow = 2)), arr.ind = TRUE))
data.frame(which(!is.na(matrix(c(1,2,3,4,NA,5,6,NA,7,8,9,10),nrow = 2)), arr.ind = TRUE))
resids
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))  %>% pull(x,y)
library(tidyverse)
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))  %>% pull(x,y)
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))  %>% pull(c(x,y))
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))[1,c(x,y)]
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))[1,c("x",'y')]
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))[1,c("x","y")]
data.frame(x = c(1,2),y = c(1,2),z = c(1,2))[1,c("x","y")] %>% as.matrix()
fit
errors
c("j" = 1)["j"]
dim(c(1,2))
dim(matrix(c(1,2)))
data.frame(unlist(list(corr = 1, dx = 2, dy = 3)))
data.frame(flatten(list(corr = 1, dx = 2, dy = 3)))
data.frame(purrr::flatten(list(corr = 1, dx = 2, dy = 3)))
library(cmcR)
dat <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
usethis::use_pipe()
library(cmcR)
dat1 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
usethis::use_pipe()
usethis::use_roxygen_md()
usethis::use_pipe()
library(cmcR)
dat1 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
devtools::document()
usethis::use_devtools()
library(usethis)
use_git_config()
use_git_config(user.name = "jzemmels",user.email = "jzemmels@iastate.edu")
roxygen2::namespace_roclet()
?roxygen2::namespace_roclet()
devtools::document()
devtools::document()
dat1 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
library(cmcR)
library(cmcR)
library(cmcR)
dat1 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
library(cmcR)
library(cmcR)
dat1 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-1.x3p")
dat1$header.info
dat1
dat1$surface.matrix %>% imager::as.cimg() %>% plot
dat2 <- selectBFImpression("~/bulletCartridgeScans/fadul_allScans/Fadul_1/cc/Fadul 1-2.x3p")
dat2$surface.matrix %>% imager::as.cimg() %>% plot
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
library(cmcR)
library(cmcR)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
library(cmcR)
cmcR:::splitSurfaceMat1(dat1$surface.matrix,7,7)
library(cmcR)
cmcR:::splitSurfaceMat1(dat1$surface.matrix,7,7)
library(cmcR)
library(cmcR)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
library(cmcR)
cmcR:::splitSurfaceMat1(dat1$surface.matrix,7,7)$cellIDs
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
Q
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
n
cmcR:::splitSurfaceMat1(dat1$surface.matrix,7,7)$cellIDs
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = 0)
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = c(03))
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = c(0,3))
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = c(0,3))
cellCCF(dat1$surface.matrix,dat2$surface.matrix,thetas = c(0,3))
rm(dat,dat1,dat2)
dat <- read_x3p("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p")
dat <- x3ptools::read_x3p("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p")
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p")
dat1 %>%
.$surface.matrix %>%
as.cimg() %>%
plot()
library(imager)
dat1 %>%
.$surface.matrix %>%
as.cimg() %>%
plot()
dat1 %>%
.$surface.matrix %>%
t() %>%
as.cimg() %>%
as.data.frame() %>%
dat1 %>%
.$surface.matrix %>%
t() %>%
as.cimg() %>%
plot()
dat1 %>%
.$surface.matrix %>%
t() %>%
as.cimg() %>%
plot()
dat1 %>%
.$surface.matrix %>%
as.cimg() %>%
plot()
dat$surface.matrix %>%
as.cimg() %>%
plot()
library(x3ptools)
dat1 %>%
.$surface.matrix %>%
as.cimg() %>%
as.data.frame() %>%
df_to_x3p() %>%
image_x3p()
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
as.data.frame() %>%
df_to_x3p() %>%
image_x3p()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p",use_residuals = FALSE)
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
as.data.frame() %>%
df_to_x3p() %>%
image_x3p()
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
plot()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p",use_residuals = TRUE)
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
plot()
dat$surface.matrix %>%
as.cimg() %>%
as.data.frame() %>%
ggplot(aes(x = value)) +
geom_histogram()
library(tidyverse)
dat$surface.matrix %>%
as.cimg() %>%
as.data.frame() %>%
ggplot(aes(x = value)) +
geom_histogram()
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
as.data.frame() %>%
ggplot(aes(x = x,y = y,value = value)) +
geom_tile()
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
plot()
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
rotate_xy(angle = -90,cx = nrow(.)/2,cy = ncol(.)/2) %>%
plot()
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
rotate_xy(angle = 90,cx = nrow(.)/2,cy = ncol(.)/2) %>%
plot()
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
rotate_xy(angle = 90,cx = nrow(.)/2,cy = ncol(.)/2) %>%
plot()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p",use_residuals = TRUE,croppingThreshold = 100)
dat$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
rotate_xy(angle = 90,cx = nrow(.)/2,cy = ncol(.)/2) %>%
plot()
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
plot()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p",use_residuals = TRUE,croppingThreshold = 10)
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-1.x3p",use_residuals = TRUE,croppingThreshold = 10)
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
plot()
```
dat2 <- cmcR::findPlaneRansac(dat$surface.matrix)
dat2$estimatedBreechFace %>%
as.cimg() %>%
plot()
dat2 <- cmcR:::levelBFImpression(dat$surface.matrix)
cmcR:::findPlaneRansac(dat$surface.matrix) %>%
cmcR:::levelBFImpression(use_residuals = FALSE) %>%
as.cimg() %>%
plot()
cmcR:::findPlaneRansac(dat$surface.matrix) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
plot()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-2.x3p",use_residuals = TRUE,croppingThreshold = 10)
dat1 %>%
.$surface.matrix %>%
multiply_by(10^5) %>%
as.cimg() %>%
rotate_xy(angle = 90,cx = nrow(.)/2,cy = ncol(.)/2) %>%
plot()
dat1 <- cmcR::selectBFImpression("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-2.x3p",use_residuals = TRUE,croppingThreshold = 20)
dat <- x3ptools::read_x3p("~/bulletCartridgeScans/Fadul (2011)/cc/Fadul 1-2.x3p")
cmcR:::findPlaneRansac(dat$surface.matrix) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
plot()
cmcR:::findPlaneRansac(dat$surface.matrix,inlierTreshold = 20) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
plot()
cmcR:::findPlaneRansac(dat$surface.matrix,inlierTreshold = 20*(10^(-5))) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
plot()
cmcR:::findPlaneRansac(dat$surface.matrix,inlierTreshold = 2*(10^(-5))) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
plot()
cmcR:::findPlaneRansac(dat$surface.matrix,inlierTreshold = 2*(10^(-5))) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
as.cimg() %>%
as.data.frame() %>%
df_to_x3p() %>%
image_x3p()
cmcR:::findPlaneRansac(dat$surface.matrix,inlierTreshold = 2*(10^(-5))) %>%
cmcR:::levelBFImpression(use_residuals = TRUE) %>%
multiply_by(10^5) %>%
as.cimg() %>%
as.data.frame() %>%
df_to_x3p() %>%
image_x3p()
rm(dat,dat1,dat2)
